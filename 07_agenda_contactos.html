<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agenda Contactos</title>
</head>
<body>

    Introduce nombre:<input type="text" id="nombre"><button onclick="guardar();">GUARDAR</button>
    <br><br>
    <button onclick="mostrar();">MOSTRAR</button>
    <br><br>
    <div id="listaNombres">
        <br>

    </div>
    <br>
        <button onclick="borrarLista();">BORRAR LISTA</button>

    <script>

    let contactos=[];

    function guardar(){

            // Vamos a impedir que los nombres se repitan

        let i = document.getElementById("nombre").value;
        
        if (document.getElementById("nombre").value==""){

            alert("El campo no puede estar vacío")
        }else {

        let igual=false
        for (n of contactos){  //poner otro if y otra variable para los ""
            if (i==n){
                alert("El nombre ya existe");
                igual=true;
                }
            };
        


            // El push solo lo vamos a hacer si la variable "igual" es falsa. Si es verdadera es que el nombre ya está
            // y si el nombre ya está no lo ponemos hacemos push en la lista.

        if (igual==false){
            contactos.push(i);
        }//else {
           // alert("el nombre está metido o el campo está vacío");
        //};

            //lo ponemos fuera de todo para que se limpie la cajita
        document.getElementById("nombre").value="";
        console.log(contactos)
        }

    };

    

    function mostrar(){
            // Ponemos una variable html donde estructuramos el texto que queremos que nos saque.
            // Si no ponemos esta variable y la dejamos solamente con lo del document.getelement
            // lo que pasaría es que estaría todo el tiempo aña


        let html="";
        for (n of contactos){

            html=`<img src="papelera.png" height="20px" width="20px">` + "<br>"+ html + n
            html=document.getElementById("listaNombres").innerHTML=html;

        }
    }

                // ESTO ES SOLO CON EL DOCUMENT.GETELEMENT sin variable
        /*     

                Con lo de añadir creamos el array.
                Con esta función estamos recorriendo el array y diciendo que nos lo muestre en el div
                pero si volvemos a darle lo imprime otra vez       

                for (n of contactos){

                    document.getElementById("listaNombres").innerHTML=+n;

                }
            }

            */ 

    function borrarLista(){
        document.getElementById("listaNombres").innerHTML=" "

    }


    </script>
    
</body>
</html>